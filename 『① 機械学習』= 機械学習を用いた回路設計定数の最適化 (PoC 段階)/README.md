# テーマ【1】機械学習を用いた回路設計の自動化 (PoC)

## 背景
新機種開発を行う際、紙上設計段階においてまず始めに「高周波回路シミュレータ(※)」を用いた設計を行う。  
ある程度の特性を担保する回路定数を探索してから、実機試作での設計に移行するためである。  
　　(※) ADS (Advanced Design System) と呼ばれるシミュレータが用いられる  

## (課題点)
シミュレーションを行う際、下記３点の課題点が挙げられる。  
　① 計算の実行に時間コストがかかるため、試行回数の制限がある  
　② 従来機種の回路定数を起点とするため、局所解に陥る可能性がある  
　③ 設計最適化の出来具合が作業者のスキルと経験に依存してしまう  

## (期待効果)
「機械学習」と「ベイズ最適化」により  
  
　[1] 局所解に陥らず最適な定数の導出が可能  
　　→ 「ベイズ最適化」で最尤推定できる  
  
　[2] 計算時間の大幅な短縮が可能  
　　・機械学習を使用しない場合 (グリッドサーチ)  
　　　(28通り)^17×(9通り) = 35969056190000000000000000秒   
　　　　　　　　　　　　　→ 一生終わらない  
  
　　・機械学習を使用した場合  
　　　7650秒 + 6480秒 = 約4時間で完了  
  
　(内訳) (50通り)×(9通り)×17=7650秒=約2時間 (シングルスイープ)  
　　　　(6×6×6×5通り)×(3×2通り)=6480秒=約2時間 (マルチスイープ)  
　[3] 作業者に依らず同じ結果が得られる  
  
## (方策)  
下記条件で最適化を行う  
　・対象：BPF (バンドパスフィルタ) 回路  
　・入力：17パラメータ (LとC)  
　・目的：中心周波数、ピークゲイン、イメージ除去の最適化  
  
　[現状]  
　・作業者が1ポイントずつ変更して都度実施  
　　　 → 設計期間：1週間  
  
　[改善具体策]  
　・ADS結果をDatalinkで外部出力しポスト処理を行う  
　・従来機種の定数を起点とし、17パラメータを１つずつ  
　　スイープしたときの結果を得る  
　・LightGBMで学習し、寄与度ベスト3を出力する  
　　(学習結果は約99.5%精度でADS結果と一致することを確認済み)  
　・「中心周波数・ピークゲイン」と「イメージ除去」に対する  
　　寄与度高いパラメータを使用し、マルチスイープで詳細解抽出、  
　　より精度の高い学習を行わせる  
　・ベイズ最適化により、トレードオフを考慮した  
　　最適化定数を導出する  